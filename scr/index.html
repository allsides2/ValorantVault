<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vote nos Melhores Clipes!</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #1c1c1c;
      color: white;
      margin: 0;
    }
    .container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 20px;
    }
    .clip {
      width: 45%;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: 3px solid #444;
      border-radius: 10px;
    }
    .button-group {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    .button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #ff4655;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .button:hover {
      background-color: #e63946;
    }










    /* CSGO TO VALORANT SENSITIVITY CONVERTER */
/* POWERED BY VALORANT UK */

body {
    background-image: url('https://i.imgur.com/3POnLJP.jpg');
    color: #fff;
  }
  .left {
    text-align:center;
    height: 285px;
    background-color: #282828f0;
    -webkit-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    -moz-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    margin-left: 15px;
    margin-right: 15px;
    border-top-left-radius: 20%;
    position: relative;
  }
  .right {
    text-align: center;
    height: 285px;
    background-color: #fd4555d4;
    -webkit-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    -moz-box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    box-shadow: 0px 5px 5px 0px rgba(0,0,0,0.42);
    margin-left: 15px;
    margin-right: 15px;
    border-bottom-right-radius: 20%;
  }
  .inner-left{
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 50%;
    height: 50%;
    margin: auto;
    font-size: 11px;
    text-transform: uppercase;
  }
  .info{
    display: inline-block; 
    width: 500px;
    text-shadow: 0px 2px 2px rgba(0,0,0,0.94);
  }
  .inner-right{
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 50%;
    height: 35%;
    margin: auto;
  }
  .header {
    padding: 2%;
    text-align: center;
}
  .footer {
    height: 25px;
  }
  .btn-info {
    text-transform: uppercase;
    color: #fff;
    background-color: #e43d4e85;
    border-color: #e43d4e;
    font-size: 14px;
    font-weight: 600;
  }
  .btn-info:hover {
  color: #fff;
  background-color: #e43d4e;
  border-color: #e43d4e;
  }
  .discord {
    padding-top: 15%;
  }
  .main-btn{
    margin-top:15px;
  }
  #output {
      font-weight: 600;
      font-size: 14px;
  }
  hr.new1 {
    border-top: 4px solid #e43d4e;
    max-width: 600px;
  }
  .widgetHeader-2Hz_Ln {
  background-color: #7b4a51 !important;
  }
  h2 {
    font-weight:600;
    text-shadow: 0px 2px 2px rgba(0,0,0,0.74);
  }
  h1 {
    font-weight:800;
    text-shadow: 0px 2px 2px rgba(0,0,0,0.74);
  }
  .top-text {
    padding-bottom:5%;
  }

















.containerB {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 30px;
  background: #ece8e1;
}

.primary-button {
  BACKGROUND-COLOR: #952a2a96;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.primary-button::before,
.primary-button::after {
  content: "";
  position: absolute;
  width: 100%;
  border: 1px solid #ff4655;
}

.primary-button::before {
  height: calc(50% - 10px);
  border-bottom: 0;
}

.primary-button::after {
  bottom: 0;
  height: calc(50% - 10px);
  border-top: 0;
}

.valorant-button-container {
  position: relative;
  display: flex;
  width: 200px;
  height: 38px;
  overflow: hidden;
  border: 0;
  margin: 10px;
}

.valorant-button-container .valorant-button-line {
  position: absolute;
  top: 0;
  left: -180%;
  height: 38px;
  width: 120%;
  background: #0f1923;
  transition: left 0.3s ease-out;
  transform: skew(-15deg);
  z-index: 1;
}

.valorant-button-container .text-wrapper {
  margin-top: 3px;
  position: relative;
  padding: 10px;
  height: 35px;
  background: #ff4655;
  min-width: 200px;
  font-weight: bold;
  color: white;
}

.valorant-button-container .text-wrapper span {
  display: block;
  position: relative;
  z-index: 2;
  transition: color 0.2s ease-out;
}

.valorant-button-container::before {
  content: "";
  display: block;
  position: absolute;
  right: 0;
  width: 99%;
  height: 3px;
  background: #ff4655;
}

.valorant-button-container::after {
  content: "";
  position: absolute;
  display: block;
  width: 5px;
  height: 5px;
  background: #0f192385;
  right: 0;
  bottom: 0;
  transition: background 0.2s ease-out;
  z-index: 1;
}

.valorant-button-container:hover .valorant-button-line {
  left: -5%;
}

.valorant-button-container:hover .text-wrapper span {
 
}

.valorant-button-container:hover::after {
 
}















  </style>
</head>
<body>
  <div class="row">
    <div class="header col-sm-12">
      <h1>VALORANT CLIPS</h1>
      <h2>COMPARE OS MELHORES CLIPES DE VALORANT</h2>
      <hr class="new1">
      <span class="info">Escolha qual clip teva a melhor jogada no <strong>VALORANT</strong>!</span>
    </div>
  </div>

  <div class="container" id="clips-container">
    <!-- Clipes serão carregados dinamicamente aqui -->
  </div>

  <script>
    function loadClips() {
      fetch("https://valorant-vault.vercel.app/clips")
        .then(response => response.json())
        .then(clips => {
          const container = document.getElementById("clips-container");
          container.innerHTML = "";

          clips.forEach(clip => {
            const clipElement = document.createElement("div");
            clipElement.classList.add("clip");
            console.log(clip.id)

            clipElement.innerHTML = `
              <iframe src="https://clips.twitch.tv/embed?clip=${clip.url}&parent=localhost" frameborder="0" allowfullscreen></iframe>
              <div class="button-group">
                <div class="primary-button">
                  <button class="valorant-button-container" onclick="vote(${clip.id})">
                    <div class="valorant-button-line"></div>
                    <div class="text-wrapper">
                      <span>Votar</span>
                    </div>
                  </button>
                </div>
                
            `;

            container.appendChild(clipElement);
          });
        })
        .catch(err => console.error("Erro ao carregar clipes:", err));
    }

    function vote(clipId) {
      fetch("http://localhost:3000/vote", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ clipId })
      })
        .then(response => response.json())
        .then(data => {
          alert(data.message);
          loadClips();
        })
        .catch(err => console.error("Erro ao registrar voto:", err));
    }

    function report(clipId) {
      fetch("http://localhost:3000/report", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ clipId })
      })
        .then(response => response.json())
        .then(data => {
          alert(data.message);
          loadClips();
        })
        .catch(err => console.error("Erro ao registrar denúncia:", err));
    }

    // Carregar os clipes ao iniciar a página
    loadClips();
  </script>
</body>